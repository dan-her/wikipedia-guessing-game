<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
</head>
<body>
<h3>WIKIPEDIA GUESSING GAME!!!</h3>
<h4>Guess the subject of the Wikipedia Article correctly to score points!</h4>
<h4 id="score">POINTS: 0</h4>
<p id="maintext"></p>
<form>
	<input type="text" id="answer" name="textin"><br><br>
	<input type="button" value="Guess!" onclick="guess()">
</form>
<script>
var jaysin;
var obj;
var question;
var answer;
var index = 1;
var pointTotal = 0;
var quaestor = document.getElementById("maintext");
var ans = document.getElementById("answer");
var scoreboard = document.getElementById("score");

const jreq = new XMLHttpRequest();
jreq.onload = function(){
    console.log('uh');
	jaysin = this.responseText;
	obj = JSON.parse(jaysin);
    answer = obj.pairs.answer[index];
	question = obj.pairs.questions[index];
    quaestor.innerHTML = question;
}
jreq.open("GET", "data.json");
jreq.send();

function guess(){
    var guess = ans.value;
	console.log(guess);
	console.log(answer);
	if (guess===answer){
		pointTotal++;
		scoreboard.innerHTML = "POINTS: " + pointTotal;
		// success popup -- dropdown thing like "website says: you win!"
	} else {
	    // failure popup!
	}
	// make the game reset the question here
	ans.value = ""; // clear the input*/
	index++;
	question = obj.pairs.questions[index];
	answer = obj.pairs.answer[index];
    quaestor.innerHTML = question;
}


</script>
</body>
</html>
